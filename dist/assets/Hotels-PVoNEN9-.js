import{u as y,r as o,j as e,a as b}from"./index-DdFKgk6t.js";const E=()=>{const N=y(),[m,h]=o.useState([]),[a,j]=o.useState(""),[p,l]=o.useState([]),[c,r]=o.useState(!0),[n,u]=o.useState(""),g=[{id:1,name:"Grand Hotel",location:"New York",contact_no:"1234567890",hotel_front_img:"https://images.unsplash.com/photo-1445019980597-93fa8acb246c?q=80&w=1200&auto=format&fit=crop"},{id:2,name:"Seaside Resort",location:"Miami Beach",contact_no:"9876543210",hotel_front_img:"https://images.unsplash.com/photo-1496417263034-38ec4f0b665a?q=80&w=1200&auto=format&fit=crop"},{id:3,name:"Mountain Lodge",location:"Denver",contact_no:"5551234567",hotel_front_img:"https://images.unsplash.com/photo-1505692814406-42b2d1f3b3c2?q=80&w=1200&auto=format&fit=crop"}],x=()=>{r(!0),u(""),b.get("/branches").then(s=>{const t=Array.isArray(s.data)?s.data:[];h(t),l(t),r(!1)}).catch(s=>{console.error("Error fetching branch data:",s),h(g),l(g),u("Unable to load hotels from server. Showing demo data."),r(!1)})};o.useEffect(()=>{let s=!0;return s&&x(),()=>{s=!1}},[]),o.useEffect(()=>{const s=m.filter(t=>t.name.toLowerCase().includes(a.toLowerCase())||t.location.toLowerCase().includes(a.toLowerCase()));l(s)},[a,m]);const v=s=>{N("/booking-form",{state:{selectedHotel:s}})},f=(s,t)=>{if(!t)return s;const i=s.split(new RegExp(`(${t})`,"gi"));return e.jsx("span",{children:i.map((d,w)=>d.toLowerCase()===t.toLowerCase()?e.jsx("span",{style:{backgroundColor:"#ffeb3b",padding:"0 2px",borderRadius:"2px"},children:d},w):d)})};return e.jsxs("div",{className:"container-fluid p-5",children:[e.jsx("div",{className:"row mb-4",children:e.jsx("div",{className:"col-md-6 mx-auto",children:e.jsx("input",{type:"text",className:"form-control",placeholder:"Search hotels by name or location...",value:a,onChange:s=>j(s.target.value)})})}),e.jsxs("div",{className:"row",children:[c&&[...Array(6)].map((s,t)=>e.jsx("div",{className:"col-md-4 col-sm-12 mb-4",children:e.jsxs("div",{className:"card floating-card placeholder-glow",children:[e.jsx("div",{className:"card-img-top bg-secondary placeholder",style:{height:200}}),e.jsxs("div",{className:"card-body",children:[e.jsx("h5",{className:"card-title placeholder col-6"}),e.jsx("p",{className:"card-text placeholder col-9"}),e.jsxs("ul",{className:"list-group list-group-flush",children:[e.jsx("li",{className:"list-group-item placeholder col-7"}),e.jsx("li",{className:"list-group-item placeholder col-5"})]}),e.jsx("button",{className:"btn btn-primary mt-3 disabled placeholder col-4",children:"Â "})]})]})},t)),!c&&n&&e.jsxs("div",{className:"col-12 text-center mb-3",children:[e.jsx("div",{className:"text-danger mb-2",children:n}),e.jsx("button",{className:"btn btn-outline-primary btn-sm",onClick:x,children:"Retry"})]}),!c&&!n&&p.map((s,t)=>e.jsx("div",{className:"col-md-4 col-sm-12 mb-4",children:e.jsxs("div",{className:"card floating-card",children:[e.jsx("img",{src:`${b.defaults.baseURL||""}${s.hotel_front_img||""}`,alt:s.name,className:"card-img-top rounded",onError:i=>i.target.src="https://th.bing.com/th?id=OIP.EZrb_W935zKQpTgcBTAXBgHaEc&w=322&h=193&c=8&rs=1&qlt=90&o=6&dpr=1.3&pid=3.1&rm=2"}),e.jsxs("div",{className:"card-body",children:[e.jsx("h5",{className:"card-title",children:f(s.name,a)}),e.jsx("p",{className:"card-text",children:"Experience the best hospitality."}),e.jsxs("ul",{className:"list-group list-group-flush",children:[e.jsxs("li",{className:"list-group-item",children:["Address: ",f(s.location,a)]}),e.jsxs("li",{className:"list-group-item",children:["Phone: ",s.contactNo||s.contact_no||"N/A"]})]}),e.jsx("button",{className:"btn btn-primary mt-3",onClick:()=>v(s),children:"Book"})]})]})},t)),!c&&p.length===0&&a&&e.jsx("p",{className:"text-center",children:"No hotels found matching your search."})]})]})};export{E as default};
