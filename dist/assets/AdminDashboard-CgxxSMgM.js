import{R as b,r as g,u as B,j as e,a as E}from"./index-DdFKgk6t.js";const D=b.createContext({}),A=!0;function L({baseColor:l,highlightColor:j,width:c,height:f,borderRadius:h,circle:v,direction:r,duration:N,enableAnimation:o=A,customHighlightBackground:m}){const a={};return r==="rtl"&&(a["--animation-direction"]="reverse"),typeof N=="number"&&(a["--animation-duration"]=`${N}s`),o||(a["--pseudo-element-display"]="none"),(typeof c=="string"||typeof c=="number")&&(a.width=c),(typeof f=="string"||typeof f=="number")&&(a.height=f),(typeof h=="string"||typeof h=="number")&&(a.borderRadius=h),v&&(a.borderRadius="50%"),typeof l<"u"&&(a["--base-color"]=l),typeof j<"u"&&(a["--highlight-color"]=j),typeof m=="string"&&(a["--custom-highlight-background"]=m),a}function x({count:l=1,wrapper:j,className:c,containerClassName:f,containerTestId:h,circle:v=!1,style:r,...N}){var o,m,a;const y=b.useContext(D),w={...N};for(const[i,n]of Object.entries(N))typeof n>"u"&&delete w[i];const u={...y,...w,circle:v},C={...r,...L(u)};let k="react-loading-skeleton";c&&(k+=` ${c}`);const s=(o=u.inline)!==null&&o!==void 0?o:!1,t=[],d=Math.ceil(l);for(let i=0;i<d;i++){let n=C;if(d>l&&i===d-1){const S=(m=n.width)!==null&&m!==void 0?m:"100%",T=l%1,R=typeof S=="number"?S*T:`calc(${S} * ${T})`;n={...n,width:R}}const p=b.createElement("span",{className:k,style:n,key:i},"â€Œ");s?t.push(p):t.push(b.createElement(b.Fragment,{key:i},p,b.createElement("br",null)))}return b.createElement("span",{className:f,"data-testid":h,"aria-live":"polite","aria-busy":(a=u.enableAnimation)!==null&&a!==void 0?a:A},j?t.map((i,n)=>b.createElement(j,{key:n},i)):t)}const O=()=>{const[l,j]=g.useState([]),[c,f]=g.useState([]),[h,v]=g.useState([]),[r,N]=g.useState(!0),[o,m]=g.useState(""),a=B(),y=h.filter(s=>s.message&&s.message.toLowerCase().includes(o.toLowerCase())),w=(s,t)=>{if(!t||!s)return s;const d=s.split(new RegExp(`(${t})`,"gi"));return e.jsx("span",{children:d.map((i,n)=>i.toLowerCase()===t.toLowerCase()?e.jsx("span",{style:{backgroundColor:"#ffeb3b",padding:"0 2px",borderRadius:"2px"},children:i},n):i)})};g.useEffect(()=>{(async()=>{u();try{const t=await E.get("http://localhost:5000/branches").catch(()=>({data:[]})),d=await E.get("http://localhost:5000/tables").catch(()=>({data:[]}));j(t.data),f(d.data)}catch(t){console.error("Error fetching data:",t)}finally{N(!1)}})()},[]);const u=()=>{v([{id:1,message:"New booking received from John Doe",time:"2 mins ago"},{id:2,message:"Table 5 has been booked",time:"15 mins ago"},{id:3,message:"New user registered: Alice Smith",time:"1 hour ago"}])},C=c.filter(s=>s.booked).length,k=c.length-C;return e.jsxs("div",{className:"admin-dashboard",children:[e.jsxs("div",{className:"dashboard-header",children:[e.jsx("h1",{children:"Admin Dashboard"}),e.jsx("p",{children:"Welcome back! Here's what's happening with your hotel."})]}),e.jsxs("div",{className:"row mb-4",children:[e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"stats-card branches",children:[e.jsx("div",{className:"icon",children:e.jsx("i",{className:"bi bi-building"})}),e.jsx("h3",{children:r?e.jsx(x,{width:60}):l.length}),e.jsx("p",{children:"Total Branches"})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"stats-card tables",children:[e.jsx("div",{className:"icon",children:e.jsx("i",{className:"bi bi-grid-3x3-gap"})}),e.jsx("h3",{children:r?e.jsx(x,{width:60}):c.length}),e.jsx("p",{children:"Total Tables"})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"stats-card",children:[e.jsx("div",{className:"icon",children:e.jsx("i",{className:"bi bi-check-circle"})}),e.jsx("h3",{children:r?e.jsx(x,{width:60}):k}),e.jsx("p",{children:"Available Tables"})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"stats-card notifications",children:[e.jsx("div",{className:"icon",children:e.jsx("i",{className:"bi bi-bell"})}),e.jsx("h3",{children:r?e.jsx(x,{width:60}):h.length}),e.jsx("p",{children:"Recent Notifications"})]})})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header d-flex justify-content-between align-items-center",children:[e.jsxs("h4",{children:[e.jsx("i",{className:"bi bi-building me-2"}),"Branches Overview"]}),e.jsxs("button",{className:"btn btn-sm btn-success",onClick:()=>a("/branch-management"),children:[e.jsx("i",{className:"bi bi-plus-circle me-1"})," Add Branch"]})]}),e.jsx("div",{className:"card-body",children:e.jsxs("table",{className:"table table-bordered",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"S.No"}),e.jsx("th",{children:"Branch"}),e.jsx("th",{children:"Booked"}),e.jsx("th",{children:"Available"})]})}),e.jsx("tbody",{children:r?[...Array(3)].map((s,t)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx(x,{width:40})}),e.jsx("td",{children:e.jsx(x,{width:100})}),e.jsx("td",{children:e.jsx(x,{width:50})}),e.jsx("td",{children:e.jsx(x,{width:50})})]},t)):l.length>0?l.map((s,t)=>{const d=c.filter(p=>p.branch_id===s.id),i=d.filter(p=>p.booked).length,n=d.length;return e.jsxs("tr",{children:[e.jsx("td",{children:t+1}),e.jsxs("td",{children:[s.name," (",s.location,")"]}),e.jsx("td",{children:e.jsx("span",{className:"badge bg-danger",children:i})}),e.jsx("td",{children:e.jsx("span",{className:"badge bg-success",children:n-i})})]},s.id)}):e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"text-center text-muted",children:"No branches found"})})})]})})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header d-flex justify-content-between align-items-center",children:[e.jsxs("h4",{children:[e.jsx("i",{className:"bi bi-bell me-2"}),"Recent Notifications"]}),e.jsx("button",{className:"btn btn-sm btn-success",onClick:u,children:e.jsx("i",{className:"bi bi-arrow-clockwise"})})]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"search-box",children:[e.jsx("i",{className:"bi bi-search"}),e.jsx("input",{type:"text",placeholder:"Search notifications...",value:o,onChange:s=>m(s.target.value)})]}),e.jsx("div",{className:"notification-list",children:y.length>0?y.map(s=>e.jsx("div",{className:"notification-item p-3 mb-2 border rounded",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{className:"fw-medium",children:w(s.message,o)}),e.jsx("small",{className:"text-muted",children:s.time})]})},s.id)):e.jsx("p",{className:"text-center text-muted",children:"No notifications found"})})]})]})})]}),e.jsxs("div",{className:"row mt-4",children:[e.jsx("div",{className:"col-md-3",children:e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body text-center",children:e.jsxs("button",{className:"btn btn-success w-100 py-3",onClick:()=>a("/add-food"),children:[e.jsx("i",{className:"bi bi-utensils me-2 fs-4"}),e.jsx("br",{}),"Manage Foods"]})})})}),e.jsx("div",{className:"col-md-3",children:e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body text-center",children:e.jsxs("button",{className:"btn btn-warning w-100 py-3",onClick:()=>a("/coupon-management"),children:[e.jsx("i",{className:"bi bi-ticket-perforated me-2 fs-4"}),e.jsx("br",{}),"Manage Coupons"]})})})}),e.jsx("div",{className:"col-md-3",children:e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body text-center",children:e.jsxs("button",{className:"btn btn-info w-100 py-3",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",border:"none",color:"white"},onClick:()=>a("/table-management"),children:[e.jsx("i",{className:"bi bi-grid-3x3-gap me-2 fs-4"}),e.jsx("br",{}),"Manage Tables"]})})})}),e.jsx("div",{className:"col-md-3",children:e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body text-center",children:e.jsxs("button",{className:"btn btn-danger w-100 py-3",onClick:()=>a("/branch-management"),children:[e.jsx("i",{className:"bi bi-branch me-2 fs-4"}),e.jsx("br",{}),"Branch Management"]})})})})]})]})};export{O as default};
